{% extends "base-en.html" %}

{% block title %}Login - Smart Education Platform{% endblock %}

{% block body %}
<div style="position: absolute; top: 20px; right: 20px; z-index: 1000;">
    <a href="/login" class="btn btn-ghost btn-sm">
        <i class="fas fa-language"></i>
        ä¸­æ–‡
    </a>
</div>
<div class="auth-page">
    <div class="auth-left">
        <h1>ğŸ“ Smart Education Platform</h1>
        <p>
            AI-Powered K12 Learning Assistant<br>
            Photo Solver Â· Essay Review Â· Smart Tutoring<br>
            Make learning more efficient and fun!
        </p>
        <div class="auth-decorations">
            <div class="auth-decoration">ğŸ“š</div>
            <div class="auth-decoration">âœï¸</div>
            <div class="auth-decoration">ğŸŒŸ</div>
        </div>
    </div>
    
    <div class="auth-right">
        <div class="auth-card">
            <h2>Welcome Back</h2>
            <p class="subtitle">Login to your account and continue learning</p>
            
            <form class="auth-form" id="loginForm">
                <div class="input-group">
                    <label for="username">Username</label>
                    <input type="text" class="input" id="username" name="username" placeholder="Enter your username" required>
                </div>
                
                <div class="input-group">
                    <label for="password">Password</label>
                    <input type="password" class="input" id="password" name="password" placeholder="Enter your password" required>
                </div>
                
                <button type="submit" class="btn btn-primary btn-lg">
                    <i class="fas fa-sign-in-alt"></i>
                    Login
                </button>
            </form>
            
            <div class="auth-footer">
                Don't have an account? <a href="/register-en">Sign up now</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
document.getElementById('loginForm').addEventListener('submit', async (e) => {
    e.preventDefault();
    
    const formData = new FormData(e.target);
    
    try {
        await api('/api/login', {
            method: 'POST',
            body: formData
        });
        showToast('Login successful!');
        setTimeout(() => window.location.href = '/en', 500);
    } catch (error) {
        // Error already handled in api function
    }
});
</script>
{% endblock %}
